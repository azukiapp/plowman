#!/bin/sh

# Getting the path of the project

__FILE__="${0}"
export PLOWMAN_ROOT=`cd \`dirname $(readlink ${__FILE__} || echo ${__FILE__} )\`/..; pwd`
cd $PLOWMAN_ROOT

export REBAR="./rebar --config rebar.conf"

if [ ! -f "${PLOWMAN_ROOT}/deps/elixir/bin/elixir" ]; then
  $REBAR get-deps
  $REBAR compile
fi

export PATH="${PLOWMAN_ROOT}/deps/elixir/bin:$PATH"

elixir --no-halt -S mix
